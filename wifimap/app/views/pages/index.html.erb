<div id="map" style='width: 100%; height: 600px;'>

<script>
  handler = Gmaps.build('Google');
  handler.buildMap({ provider : {}, internal: {id: 'map'}}, function() {
    markers = handler.addMarkers(<%=raw @signal_samples.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
    handler.getMap().setZoom(4);
  });
</script>
